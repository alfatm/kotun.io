(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4954],{77957:function(e,n,r){"use strict";var t=r(95318);n.Z=void 0;var a=t(r(64938)),o=r(85893),l=(0,a.default)((0,o.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");n.Z=l},18799:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/orders",function(){return r(32275)}])},31168:function(e,n,r){"use strict";r.d(n,{I:function(){return c}});var t=r(85893),a=r(45697),o=r.n(a);function l(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function i(e,n){if(null==e)return{};var r,t,a=function(e,n){if(null==e)return{};var r,t,a={},o=Object.keys(e);for(t=0;t<o.length;t++)r=o[t],n.indexOf(r)>=0||(a[r]=e[r]);return a}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(t=0;t<o.length;t++)r=o[t],n.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var s=(0,r(11496).ZP)("span")((function(e){var n=e.theme,r=e.ownerState;return{alignItems:"center",backgroundColor:n.palette[r.color].main,borderRadius:12,color:n.palette[r.color].contrastText,cursor:"default",display:"inline-flex",flexGrow:0,flexShrink:0,fontFamily:n.typography.fontFamily,fontSize:n.typography.pxToRem(12),lineHeight:2,fontWeight:600,justifyContent:"center",letterSpacing:.5,minWidth:20,paddingLeft:n.spacing(1),paddingRight:n.spacing(1),textTransform:"uppercase",whiteSpace:"nowrap"}})),c=function(e){var n=e.color,r=void 0===n?"primary":n,a=e.children,o=i(e,["color","children"]),c={color:r};return(0,t.jsx)(s,function(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),t.forEach((function(n){l(e,n,r[n])}))}return e}({ownerState:c},o,{children:a}))};c.propTypes={children:o().node,color:o().oneOf(["primary","secondary","error","info","warning","success"])}},94453:function(e,n,r){"use strict";r.d(n,{v:function(){return a}});var t=r(85893),a=(0,r(82066).Z)((0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z",clipRule:"evenodd"})}),"Plus")},32275:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return fe}});var t=r(28520),a=r.n(t),o=r(85893),l=r(67294),i=r(9008),s=r(87357),c=r(86886),u=r(15861),d=r(11057),p=r(37023),f=r(40044),m=r(67720),x=r(50135),h=r(87109),v=r(11496),g=r(41995),b=r(1998),j=r(26736),y=r(45697),Z=r.n(y),w=r(32912),O=r(92077),P=r.n(O),C=r(7906),S=r(53184),k=r(68509),R=r(53252),I=r(295),A=r(77533),D=r(98396),W=r(93946),E=r(77957),z=r(66661),_=r(44464),T=r(80607),L=r(56807);function G(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function M(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),t.forEach((function(n){G(e,n,r[n])}))}return e}function q(e,n){if(null==e)return{};var r,t,a=function(e,n){if(null==e)return{};var r,t,a={},o=Object.keys(e);for(t=0;t<o.length;t++)r=o[t],n.indexOf(r)>=0||(a[r]=e[r]);return a}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(t=0;t<o.length;t++)r=o[t],n.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var N=[{label:"Canceled",value:"canceled"},{label:"Complete",value:"complete"},{label:"Pending",value:"pending"},{label:"Rejected",value:"rejected"}],F=function(e){var n=e.lgUp,r=e.onApprove,t=e.onEdit,a=e.onReject,l=e.order,i=n?"horizontal":"vertical";return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(s.Z,{sx:{alignItems:"center",backgroundColor:function(e){return"dark"===e.palette.mode?"neutral.800":"neutral.100"},borderRadius:1,display:"flex",flexWrap:"wrap",justifyContent:"space-between",px:3,py:2.5},children:[(0,o.jsx)(u.Z,{color:"textSecondary",sx:{mr:2},variant:"overline",children:"Actions"}),(0,o.jsxs)(s.Z,{sx:{alignItems:"center",display:"flex",flexWrap:"wrap",m:-1,"& > button":{m:1}},children:[(0,o.jsx)(d.Z,{onClick:r,size:"small",variant:"contained",children:"Approve"}),(0,o.jsx)(d.Z,{onClick:a,size:"small",variant:"outlined",children:"Reject"}),(0,o.jsx)(d.Z,{onClick:t,size:"small",startIcon:(0,o.jsx)(E.Z,{fontSize:"small"}),children:"Edit"})]})]}),(0,o.jsx)(u.Z,{sx:{my:3},variant:"h6",children:"Details"}),(0,o.jsxs)(_.c,{children:[(0,o.jsx)(T.c,{align:i,disableGutters:!0,label:"ID",value:l.id}),(0,o.jsx)(T.c,{align:i,disableGutters:!0,label:"Number",value:l.number}),(0,o.jsxs)(T.c,{align:i,disableGutters:!0,label:"Customer",children:[(0,o.jsx)(u.Z,{color:"primary",variant:"body2",children:l.customer.name}),(0,o.jsx)(u.Z,{color:"textSecondary",variant:"body2",children:l.customer.address1}),(0,o.jsx)(u.Z,{color:"textSecondary",variant:"body2",children:l.customer.city}),(0,o.jsx)(u.Z,{color:"textSecondary",variant:"body2",children:l.customer.country})]}),(0,o.jsx)(T.c,{align:i,disableGutters:!0,label:"Date",value:(0,w.Z)(l.createdAt,"dd/MM/yyyy HH:mm")}),(0,o.jsx)(T.c,{align:i,disableGutters:!0,label:"Promotion Code",value:l.promotionCode}),(0,o.jsx)(T.c,{align:i,disableGutters:!0,label:"Total Amount",value:"".concat(l.currency).concat(l.totalAmount)}),(0,o.jsx)(T.c,{align:i,disableGutters:!0,label:"Status",value:l.status})]}),(0,o.jsx)(m.Z,{sx:{my:3}}),(0,o.jsx)(u.Z,{sx:{my:3},variant:"h6",children:"Line items"}),(0,o.jsx)(L.L,{children:(0,o.jsxs)(C.Z,{sx:{minWidth:400},children:[(0,o.jsx)(S.Z,{children:(0,o.jsxs)(k.Z,{children:[(0,o.jsx)(R.Z,{children:"Description"}),(0,o.jsx)(R.Z,{children:"Billing Cycle"}),(0,o.jsx)(R.Z,{children:"Amount"})]})}),(0,o.jsx)(I.Z,{children:l.items.map((function(e){return(0,o.jsxs)(k.Z,{children:[(0,o.jsxs)(R.Z,{children:[e.name," ","x"," ",e.quantity]}),(0,o.jsx)(R.Z,{children:e.billingCycle}),(0,o.jsx)(R.Z,{children:P()(e.unitAmount).format("".concat(e.currency,"0,0.00"))})]},e.id)}))})]})})]})},H=function(e){var n=e.onCancel,r=e.onSave,t=e.order;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(s.Z,{sx:{alignItems:"center",backgroundColor:function(e){return"dark"===e.palette.mode?"neutral.800":"neutral.100"},borderRadius:1,display:"flex",flexWrap:"wrap",justifyContent:"space-between",px:3,py:2.5},children:[(0,o.jsx)(u.Z,{variant:"overline",sx:{mr:2},color:"textSecondary",children:"Order"}),(0,o.jsxs)(s.Z,{sx:{alignItems:"center",display:"flex",m:-1,"& > button":{m:1}},children:[(0,o.jsx)(d.Z,{color:"primary",onClick:r,size:"small",variant:"contained",children:"Save changes"}),(0,o.jsx)(d.Z,{onClick:n,size:"small",variant:"outlined",children:"Cancel"})]})]}),(0,o.jsx)(u.Z,{sx:{my:3},variant:"h6",children:"Details"}),(0,o.jsx)(x.Z,{disabled:!0,fullWidth:!0,label:"ID",margin:"normal",name:"id",value:t.id}),(0,o.jsx)(x.Z,{disabled:!0,fullWidth:!0,label:"Number",margin:"normal",name:"number",value:t.number}),(0,o.jsx)(x.Z,{disabled:!0,fullWidth:!0,label:"Customer name",margin:"normal",name:"customer_name",value:t.customer.name}),(0,o.jsx)(x.Z,{disabled:!0,fullWidth:!0,label:"Date",margin:"normal",name:"date",value:(0,w.Z)(t.createdAt,"dd/MM/yyyy HH:mm")}),(0,o.jsx)(x.Z,{fullWidth:!0,label:"Address",margin:"normal",name:"address",value:t.customer.address1}),(0,o.jsx)(x.Z,{fullWidth:!0,label:"Country",margin:"normal",name:"country",value:t.customer.country}),(0,o.jsx)(x.Z,{fullWidth:!0,label:"State/Region",margin:"normal",name:"state_region",value:t.customer.city}),(0,o.jsx)(x.Z,{fullWidth:!0,label:"Total Amount",margin:"normal",name:"amount",value:t.totalAmount}),(0,o.jsx)(x.Z,{fullWidth:!0,label:"Status",margin:"normal",name:"status",select:!0,SelectProps:{native:!0},value:t.status,children:N.map((function(e){return(0,o.jsx)("option",{value:e.value,children:e.label},e.value)}))}),(0,o.jsx)(d.Z,{color:"error",sx:{mt:3},children:"Delete order"})]})},B=(0,v.ZP)(A.ZP)({width:500,flexShrink:0,"& .MuiDrawer-paper":{position:"relative",width:500}}),U=(0,v.ZP)(A.ZP)({flexShrink:0,maxWidth:"100%",height:"calc(100% - 64px)",width:500,"& .MuiDrawer-paper":{height:"calc(100% - 64px)",maxWidth:"100%",top:64,width:500}}),V=function(e){var n=e.containerRef,r=e.onClose,t=e.open,a=e.order,i=q(e,["containerRef","onClose","open","order"]),c=(0,l.useState)(!1),d=c[0],p=c[1],f=(0,D.Z)((function(e){return e.breakpoints.up("lg")})),m=function(){p(!1)},x=a?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(s.Z,{sx:{alignItems:"center",backgroundColor:"primary.main",color:"primary.contrastText",display:"flex",justifyContent:"space-between",px:3,py:2},children:[(0,o.jsx)(u.Z,{color:"inherit",variant:"h6",children:a.number}),(0,o.jsx)(W.Z,{color:"inherit",onClick:r,children:(0,o.jsx)(z.X,{fontSize:"small"})})]}),(0,o.jsx)(s.Z,{sx:{px:3,py:4},children:d?(0,o.jsx)(H,{onCancel:m,onSave:m,order:a}):(0,o.jsx)(F,{onApprove:r,onEdit:function(){p(!0)},onReject:r,order:a,lgUp:f})})]}):null;return f?(0,o.jsx)(B,M({anchor:"right",open:t,SlideProps:{container:null===n||void 0===n?void 0:n.current},variant:"persistent"},i,{children:x})):(0,o.jsx)(U,M({anchor:"right",ModalProps:{container:null===n||void 0===n?void 0:n.current},onClose:r,open:t,SlideProps:{container:null===n||void 0===n?void 0:n.current},variant:"temporary"},i,{children:x}))};V.propTypes={containerRef:Z().any,onClose:Z().func,open:Z().bool,order:Z().object};var X=r(70519),K=r(31168);function J(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function Q(e,n){if(null==e)return{};var r,t,a=function(e,n){if(null==e)return{};var r,t,a={},o=Object.keys(e);for(t=0;t<o.length;t++)r=o[t],n.indexOf(r)>=0||(a[r]=e[r]);return a}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(t=0;t<o.length;t++)r=o[t],n.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var Y={complete:"success",pending:"info",canceled:"warning",rejected:"error"},$=function(e){var n=e.onOpenDrawer,r=e.onPageChange,t=e.onRowsPerPageChange,a=e.orders,l=e.ordersCount,i=e.page,c=e.rowsPerPage,d=Q(e,["onOpenDrawer","onPageChange","onRowsPerPageChange","orders","ordersCount","page","rowsPerPage"]);return(0,o.jsxs)("div",function(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),t.forEach((function(n){J(e,n,r[n])}))}return e}({},d,{children:[(0,o.jsx)(C.Z,{children:(0,o.jsx)(I.Z,{children:a.map((function(e){return(0,o.jsxs)(k.Z,{hover:!0,onClick:function(){return null===n||void 0===n?void 0:n(e.id)},sx:{cursor:"pointer"},children:[(0,o.jsxs)(R.Z,{sx:{alignItems:"center",display:"flex"},children:[(0,o.jsxs)(s.Z,{sx:{backgroundColor:function(e){return"dark"===e.palette.mode?"neutral.800":"neutral.200"},borderRadius:2,maxWidth:"fit-content",ml:3,p:1},children:[(0,o.jsx)(u.Z,{align:"center",variant:"subtitle2",children:(0,w.Z)(e.createdAt,"LLL").toUpperCase()}),(0,o.jsx)(u.Z,{align:"center",variant:"h6",children:(0,w.Z)(e.createdAt,"d")})]}),(0,o.jsxs)(s.Z,{sx:{ml:2},children:[(0,o.jsx)(u.Z,{variant:"subtitle2",children:e.number}),(0,o.jsxs)(u.Z,{color:"textSecondary",variant:"body2",children:["Total of"," ",P()(e.totalAmount).format("".concat(e.currency,"0,0.00"))]})]})]}),(0,o.jsx)(R.Z,{align:"right",children:(0,o.jsx)(K.I,{color:Y[e.status]||"warning",children:e.status})})]},e.id)}))})}),(0,o.jsx)(X.Z,{component:"div",count:l,onPageChange:r,onRowsPerPageChange:t,page:i,rowsPerPage:c,rowsPerPageOptions:[5,10,25]})]}))};$.propTypes={onOpenDrawer:Z().func,onPageChange:Z().func,onRowsPerPageChange:Z().func,orders:Z().array.isRequired,ordersCount:Z().number.isRequired,page:Z().number.isRequired,rowsPerPage:Z().number.isRequired};var ee=r(44455),ne=r(94453),re=r(32707),te=r(59084);function ae(e,n,r,t,a,o,l){try{var i=e[o](l),s=i.value}catch(c){return void r(c)}i.done?n(s):Promise.resolve(s).then(t,a)}function oe(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function le(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),t.forEach((function(n){oe(e,n,r[n])}))}return e}var ie,se,ce=[{label:"All",value:"all"},{label:"Canceled",value:"canceled"},{label:"Completed",value:"complete"},{label:"Pending",value:"pending"},{label:"Rejected",value:"rejected"}],ue=[{label:"Newest",value:"desc"},{label:"Oldest",value:"asc"}],de=(0,v.ZP)("div",{shouldForwardProp:function(e){return"open"!==e}})((function(e){var n=e.theme,r=e.open;return le((oe(ie={flexGrow:1,overflow:"hidden",paddingBottom:n.spacing(8),paddingTop:n.spacing(8),zIndex:1},n.breakpoints.up("lg"),{marginRight:-500}),oe(ie,"transition",n.transitions.create("margin",{easing:n.transitions.easing.sharp,duration:n.transitions.duration.leavingScreen})),ie),r&&(oe(se={},n.breakpoints.up("lg"),{marginRight:0}),oe(se,"transition",n.transitions.create("margin",{easing:n.transitions.easing.easeOut,duration:n.transitions.duration.enteringScreen})),se))})),pe=function(){var e=(0,ee.s)(),n=(0,l.useRef)(null),r=(0,l.useRef)(null),t=(0,l.useState)("all"),v=t[0],b=t[1],j=(0,l.useState)("desc"),y=j[0],Z=j[1],w=(0,l.useState)(0),O=w[0],P=w[1],C=(0,l.useState)(5),S=C[0],k=C[1],R=(0,l.useState)([]),I=R[0],A=R[1],D=(0,l.useState)({query:"",status:void 0}),W=D[0],E=D[1],z=(0,l.useState)({isOpen:!1,orderId:null}),_=z[0],T=z[1];(0,l.useEffect)((function(){te.w.push({event:"page_view"})}),[]);var L,G=(0,l.useCallback)((L=a().mark((function n(){var r;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,g.E.getOrders();case 3:r=n.sent,e()&&A(r),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.error(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})),function(){var e=this,n=arguments;return new Promise((function(r,t){var a=L.apply(e,n);function o(e){ae(a,r,t,o,l,"next",e)}function l(e){ae(a,r,t,o,l,"throw",e)}o(void 0)}))}),[e]);(0,l.useEffect)((function(){G()}),[]);var M=function(e,n){return e.filter((function(e){return!(n.query&&!e.number.toLowerCase().includes(n.query.toLowerCase()))&&("undefined"===typeof n.status||e.status===n.status)}))}(I,W),q=function(e,n,r){return e.slice(n*r,n*r+r)}(function(e,n){return e.sort((function(e,r){var t=e.createdAt>r.createdAt?-1:1;return"desc"===n?t:-t}))}(M,y),O,S);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(i.default,{children:(0,o.jsx)("title",{children:"Dashboard: Order List | Material Kit Pro"})}),(0,o.jsxs)(s.Z,{component:"main",ref:n,sx:{backgroundColor:"background.paper",display:"flex",flexGrow:1,overflow:"hidden"},children:[(0,o.jsxs)(de,{open:_.isOpen,children:[(0,o.jsxs)(s.Z,{sx:{px:3},children:[(0,o.jsxs)(c.ZP,{container:!0,justifyContent:"space-between",spacing:3,children:[(0,o.jsx)(c.ZP,{item:!0,children:(0,o.jsx)(u.Z,{variant:"h4",children:"Orders"})}),(0,o.jsx)(c.ZP,{item:!0,children:(0,o.jsx)(d.Z,{startIcon:(0,o.jsx)(ne.v,{fontSize:"small"}),variant:"contained",children:"Add"})})]}),(0,o.jsx)(p.Z,{indicatorColor:"primary",onChange:function(e,n){b(n),E((function(e){return le({},e,{status:"all"===n?void 0:n})}))},scrollButtons:"auto",textColor:"primary",value:v,sx:{mt:3},variant:"scrollable",children:ce.map((function(e){return(0,o.jsx)(f.Z,{label:e.label,value:e.value},e.value)}))})]}),(0,o.jsx)(m.Z,{}),(0,o.jsxs)(s.Z,{sx:{alignItems:"center",display:"flex",flexWrap:"wrap",m:-1.5,p:3},children:[(0,o.jsx)(s.Z,{component:"form",onSubmit:function(e){e.preventDefault(),E((function(e){var n;return le({},e,{query:null===(n=r.current)||void 0===n?void 0:n.value})}))},sx:{flexGrow:1,m:1.5},children:(0,o.jsx)(x.Z,{defaultValue:"",fullWidth:!0,inputProps:{ref:r},InputProps:{startAdornment:(0,o.jsx)(h.Z,{position:"start",children:(0,o.jsx)(re.o,{fontSize:"small"})})},placeholder:"Search by order number"})}),(0,o.jsx)(x.Z,{label:"Sort By",name:"order",onChange:function(e){var n=e.target.value;Z(n)},select:!0,SelectProps:{native:!0},sx:{m:1.5},value:y,children:ue.map((function(e){return(0,o.jsx)("option",{value:e.value,children:e.label},e.value)}))})]}),(0,o.jsx)(m.Z,{}),(0,o.jsx)($,{onOpenDrawer:function(e){T({isOpen:!0,orderId:e})},onPageChange:function(e,n){P(n)},onRowsPerPageChange:function(e){k(parseInt(e.target.value,10))},orders:q,ordersCount:M.length,page:O,rowsPerPage:S})]}),(0,o.jsx)(V,{containerRef:n,onClose:function(){T({isOpen:!1,orderId:null})},open:_.isOpen,order:I.find((function(e){return e.id===_.orderId}))})]})]})};pe.getLayout=function(e){return(0,o.jsx)(b.a,{children:(0,o.jsx)(j.c,{children:e})})};var fe=pe}},function(e){e.O(0,[2180,5464,2169,135,7637,8005,8619,7521,2719,2177,2453,285,7815,9764,8629,9774,2888,179],(function(){return n=18799,e(e.s=n);var n}));var n=e.O();_N_E=n}]);